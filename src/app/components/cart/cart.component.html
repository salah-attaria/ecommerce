<div class="container my-5">
  <div *ngIf="message" class="alert alert-danger" role="alert">
    Your Cart is empty.Please add something in your cart.
  </div>
  <div class="row">
    <div class="d-flex m-5">
      <div class="row col-md-7">
        <h2>My CART</h2>

        <hr class="mb-4" />
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
          <div>
            <ng-container matColumnDef="_id">
              <th mat-header-cell *matHeaderCellDef>No.</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i + 1 }}
              </td>
            </ng-container>

            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Name</th>
              <td mat-cell *matCellDef="let element">{{ element.name }}</td>
            </ng-container>

            <ng-container matColumnDef="price">
              <th mat-header-cell *matHeaderCellDef>Price</th>
              <td mat-cell *matCellDef="let element">{{ element.price }}</td>
            </ng-container>

            <ng-container matColumnDef="quantity">
              <th mat-header-cell *matHeaderCellDef>Quantity</th>
              <td mat-cell *matCellDef="let element">{{ element.quantity }}</td>
            </ng-container>
            <ng-container matColumnDef="total_amount">
              <th mat-header-cell *matHeaderCellDef>Total</th>
              <td mat-cell *matCellDef="let element">{{ element.total_amount }}</td>
            </ng-container>
            <ng-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef>Remove</th>
              <td mat-cell *matCellDef="let element">
                <mat-icon (click)="deleteItem(element._id)">delete</mat-icon>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </div>
        </table>
        <br />

        <a
          routerLink="/home"
          class="btn mt-3"
          style="
            text-decoration: none;
            align-items: center;
            width: 50%;
            background-color: #3d4eae;
            color: white !important;
          "
          >Continue Shopping</a
        >
      </div>
      <hr class="my-5" />

      <div class="row col-md-5 ms-5">
        <div class="">
          <div class="col-md-5 col-lg-4 order-md-last">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
              <span class="text-primary">Your cart</span>
              <!-- <span class="badge bg-primary rounded-pill">{{
                dataSource
              }}</span> -->
            </h4>
            <ul class="list-group mb-3">
              <li
                *ngFor="let data of dataSource.data ;let i=index"
                class="list-group-item d-flex justify-content-between lh-sm"
              >
              
                <div>
                  <h6 class="my-0">{{ data.name }}</h6>
                </div>
                <span class="text-body-secondary">${{ data.total_amount}}</span>
              </li>

              <li class="list-group-item d-flex justify-content-between">
                <span>Total (USD)</span>
                <strong>${{ getTotalPrice() }}</strong>
              </li>
            </ul>
            <a
              *ngIf="!message"
              routerLink="/checkout"
              class="btn"
              style="
                text-decoration: none;
                width: 100%;
                background-color: #3d4eae;
                color: white !important;
              "
              >CheckOut</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
